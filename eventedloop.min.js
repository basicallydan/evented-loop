(function e(t,n,r){function o(a,f){if(!n[a]){if(!t[a]){var h=typeof require==i&&require;if(!f&&h)return h(a,!0);if(u)return u(a,!0);throw new Error("Cannot find module '"+a+"'")}var p=n[a]={exports:{}};t[a][0].call(p[s],function(e){var n=t[a][1][e];return o(n?n:e)},p,p[s],e,t,n,r)}return n[a][s]}var i="function",s="exports",u=typeof require==i&&require;for(var a=0;a<r.length;a++)o(r[a]);return o})({1:[function(e,t,n){var r="inherits",i="prototype",s="undefined",o="removeOne",u="length",a="intervalId",f="intervalLength",l="intervalsToEmit",c="currentTick",h="maxTicks",p="listeningForFocus",d="bind",v="newListener",m="removeListener",g="isStarted",y="start",b="addEventListener",w="EventedLoop";(function(E){(function(){function C(e){var t=1,n=T.min(e);while(t!==0)t=T.reduce(e,function(e,t){return e+t%n},0),t!==0&&(n-=10);return n}function k(e){var t=N.exec(e);if(!t)throw new Error("I don't understand that particular interval");var n=+t[1],r=t[2]||"ms";if(r==="s")n*=1e3;else if(r==="m")n=n*1e3*60;else if(r==="h")n=n*1e3*60*60;else if(!!r&&r!=="ms")throw new Error("You can only specify intervals of ms, s, m, or h");if(n<10||n%10!==0)throw new Error("You can only specify 10s of milliseconds, trust me on this one");return{amount:n,type:r}}function L(){this[a]=undefined,this[f]=undefined,this[l]={},this[c]=1,this[h]=0,this[p]=!1;var e=function(){var e=C(T.keys(this[l])),t=!1;return this[f]?e!==this[f]&&(this[f]=e,t=!0):this[f]=e,this[h]=T.max(T.map(T.keys(this[l]),function(e){return+e}))/this[f],t}[d](this);this.on(v,function(t){if(t===m||t===v)return;var n=k(t),r=n.amount;this[l][+r]=T.union(this[l][+r]||[],[t]),e()&&this[g]()&&this.stop()[y]()}),this.on(m,function(t){if(x.listenerCount(this,t)>0)return;var n=k(t),r=n.amount,i=this[l][+r][o](t);this[l][+r][u]===0&&delete this[l][+r],console.log("Determining interval length after removal of",i),e(),e()&&this[g]()&&this.stop()[y]()})}var S=this,x=e("events").EventEmitter,T=e("underscore"),N=/([0-9\.]+)(ms|s|m|h)?/,S=E||window;typeof Function[i][r]===s&&(Function[i][r]=function(e){this[i]=Object.create(e[i])}),typeof Array[i][o]===s&&(Array[i][o]=function(){var e,t=arguments,n=t[u],r;while(n&&this[u]){e=t[--n];while((r=this.indexOf(e))!==-1)return this.splice(r,1)}}),L[r](x),L[i].tick=function(){var e=this[c]*this[f];return T.each(this[l],function(t,n){e%n===0&&T.each(t,function(e){this.emit(e,e,n)}[d](this))}[d](this)),this[c]+=1,this[c]>this[h]&&(this[c]=1),this},L[i][y]=function(){if(!this[f])throw new Error("You haven't specified any interval callbacks. Use EventedLoop.on('500ms', function () { ... }) to do so, and then you can start");return this[a]?console.log("No need to start the loop again, it's already started."):(this[a]=setInterval(this.tick[d](this),this[f]),S&&!this[p]&&S[b]&&(S[b]("focus",function(){this[y]()}[d](this)),S[b]("blur",function(){this.stop()}[d](this)),this[p]=!0),this)},L[i].stop=function(){return clearInterval(this[a]),this[a]=undefined,this},L[i][g]=function(){return!!this[a]},L[i].every=L[i].on,typeof n!==s&&(typeof t!==s&&t.exports&&(n=t.exports=L),n[w]=L),typeof window!==s&&(window[w]=L)}).call(this)}).call(this,typeof self!==s?self:typeof window!==s?window:{})},{events:3,underscore:2}],2:[function(e,t,n){var r="length",i=null,s="call",o="apply",u="isFunction",a="prototype",f=!1,l="isArray",c=!0,h="reduceRight",p="_wrapped",d="lastIndexOf",v="identity",m="constructor",g="filter",y="push",b="indexOf",w="contains",E="source",S="concat",x="function",T="[object Boolean]",N="keys",C="isArguments",k="slice",L="[object Array]",A="reduce",O="every",M="escape",_="forEach",D="'+\n((__t=(",P="unescape",H="object",B="templateSettings",j="undefined",F="isObject",I="property",q="random",R="bind",U="matches",z="join",W="has",X="pluck",V="sortedIndex",$="values",J="variable",K="extend";((function(){var e=this,et=e._,tt={},nt=Array[a],rt=Object[a],it=Function[a],st=nt[y],ot=nt[k],ut=nt[S],at=rt.toString,ft=rt.hasOwnProperty,lt=nt[_],ct=nt.map,ht=nt[A],pt=nt[h],dt=nt[g],vt=nt[O],mt=nt.some,gt=nt[b],yt=nt[d],bt=Array[l],wt=Object[N],Et=it[R],St=function(e){if(e instanceof St)return e;if(!(this instanceof St))return new St(e);this[p]=e};typeof n!==j?(typeof t!==j&&t.exports&&(n=t.exports=St),n._=St):e._=St,St.VERSION="1.6.0";var xt=St.each=St[_]=function(e,t,n){if(e==i)return e;if(lt&&e[_]===lt)e[_](t,n);else if(e[r]===+e[r]){for(var o=0,u=e[r];o<u;o++)if(t[s](n,e[o],o,e)===tt)return}else{var a=St[N](e);for(var o=0,u=a[r];o<u;o++)if(t[s](n,e[a[o]],a[o],e)===tt)return}return e};St.map=St.collect=function(e,t,n){var r=[];return e==i?r:ct&&e.map===ct?e.map(t,n):(xt(e,function(e,i,o){r[y](t[s](n,e,i,o))}),r)};var Tt="Reduce of empty array with no initial value";St[A]=St.foldl=St.inject=function(e,t,n,o){var u=arguments[r]>2;e==i&&(e=[]);if(ht&&e[A]===ht)return o&&(t=St[R](t,o)),u?e[A](t,n):e[A](t);xt(e,function(e,r,i){u?n=t[s](o,n,e,r,i):(n=e,u=c)});if(!u)throw new TypeError(Tt);return n},St[h]=St.foldr=function(e,t,n,o){var u=arguments[r]>2;e==i&&(e=[]);if(pt&&e[h]===pt)return o&&(t=St[R](t,o)),u?e[h](t,n):e[h](t);var a=e[r];if(a!==+a){var f=St[N](e);a=f[r]}xt(e,function(r,i,l){i=f?f[--a]:--a,u?n=t[s](o,n,e[i],i,l):(n=e[i],u=c)});if(!u)throw new TypeError(Tt);return n},St.find=St.detect=function(e,t,n){var r;return Nt(e,function(e,i,o){if(t[s](n,e,i,o))return r=e,c}),r},St[g]=St.select=function(e,t,n){var r=[];return e==i?r:dt&&e[g]===dt?e[g](t,n):(xt(e,function(e,i,o){t[s](n,e,i,o)&&r[y](e)}),r)},St.reject=function(e,t,n){return St[g](e,function(e,r,i){return!t[s](n,e,r,i)},n)},St[O]=St.all=function(e,t,n){t||(t=St[v]);var r=c;return e==i?r:vt&&e[O]===vt?e[O](t,n):(xt(e,function(e,i,o){if(!(r=r&&t[s](n,e,i,o)))return tt}),!!r)};var Nt=St.some=St.any=function(e,t,n){t||(t=St[v]);var r=f;return e==i?r:mt&&e.some===mt?e.some(t,n):(xt(e,function(e,i,o){if(r||(r=t[s](n,e,i,o)))return tt}),!!r)};St[w]=St.include=function(e,t){return e==i?f:gt&&e[b]===gt?e[b](t)!=-1:Nt(e,function(e){return e===t})},St.invoke=function(e,t){var n=ot[s](arguments,2),r=St[u](t);return St.map(e,function(e){return(r?t:e[t])[o](e,n)})},St[X]=function(e,t){return St.map(e,St[I](t))},St.where=function(e,t){return St[g](e,St[U](t))},St.findWhere=function(e,t){return St.find(e,St[U](t))},St.max=function(e,t,n){if(!t&&St[l](e)&&e[0]===+e[0]&&e[r]<65535)return Math.max[o](Math,e);var i=-Infinity,u=-Infinity;return xt(e,function(e,r,o){var a=t?t[s](n,e,r,o):e;a>u&&(i=e,u=a)}),i},St.min=function(e,t,n){if(!t&&St[l](e)&&e[0]===+e[0]&&e[r]<65535)return Math.min[o](Math,e);var i=Infinity,u=Infinity;return xt(e,function(e,r,o){var a=t?t[s](n,e,r,o):e;a<u&&(i=e,u=a)}),i},St.shuffle=function(e){var t,n=0,r=[];return xt(e,function(e){t=St[q](n++),r[n-1]=r[t],r[t]=e}),r},St.sample=function(e,t,n){return t==i||n?(e[r]!==+e[r]&&(e=St[$](e)),e[St[q](e[r]-1)]):St.shuffle(e)[k](0,Math.max(0,t))};var Ct=function(e){return e==i?St[v]:St[u](e)?e:St[I](e)};St.sortBy=function(e,t,n){return t=Ct(t),St[X](St.map(e,function(e,r,i){return{value:e,index:r,criteria:t[s](n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var kt=function(e){return function(t,n,r){var i={};return n=Ct(n),xt(t,function(o,u){var a=n[s](r,o,u,t);e(i,a,o)}),i}};St.groupBy=kt(function(e,t,n){St[W](e,t)?e[t][y](n):e[t]=[n]}),St.indexBy=kt(function(e,t,n){e[t]=n}),St.countBy=kt(function(e,t){St[W](e,t)?e[t]++:e[t]=1}),St[V]=function(e,t,n,i){n=Ct(n);var o=n[s](i,t),u=0,a=e[r];while(u<a){var f=u+a>>>1;n[s](i,e[f])<o?u=f+1:a=f}return u},St.toArray=function(e){return e?St[l](e)?ot[s](e):e[r]===+e[r]?St.map(e,St[v]):St[$](e):[]},St.size=function(e){return e==i?0:e[r]===+e[r]?e[r]:St[N](e)[r]},St.first=St.head=St.take=function(e,t,n){return e==i?void 0:t==i||n?e[0]:t<0?[]:ot[s](e,0,t)},St.initial=function(e,t,n){return ot[s](e,0,e[r]-(t==i||n?1:t))},St.last=function(e,t,n){return e==i?void 0:t==i||n?e[e[r]-1]:ot[s](e,Math.max(e[r]-t,0))},St.rest=St.tail=St.drop=function(e,t,n){return ot[s](e,t==i||n?1:t)},St.compact=function(e){return St[g](e,St[v])};var Lt=function(e,t,n){return t&&St[O](e,St[l])?ut[o](n,e):(xt(e,function(e){St[l](e)||St[C](e)?t?st[o](n,e):Lt(e,t,n):n[y](e)}),n)};St.flatten=function(e,t){return Lt(e,t,[])},St.without=function(e){return St.difference(e,ot[s](arguments,1))},St.partition=function(e,t){var n=[],r=[];return xt(e,function(e){(t(e)?n:r)[y](e)}),[n,r]},St.uniq=St.unique=function(e,t,n,i){St[u](t)&&(i=n,n=t,t=f);var s=n?St.map(e,n,i):e,o=[],a=[];return xt(s,function(n,i){if(t?!i||a[a[r]-1]!==n:!St[w](a,n))a[y](n),o[y](e[i])}),o},St.union=function(){return St.uniq(St.flatten(arguments,c))},St.intersection=function(e){var t=ot[s](arguments,1);return St[g](St.uniq(e),function(e){return St[O](t,function(t){return St[w](t,e)})})},St.difference=function(e){var t=ut[o](nt,ot[s](arguments,1));return St[g](e,function(e){return!St[w](t,e)})},St.zip=function(){var e=St.max(St[X](arguments,r)[S](0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=St[X](arguments,""+n);return t},St[H]=function(e,t){if(e==i)return{};var n={};for(var s=0,o=e[r];s<o;s++)t?n[e[s]]=t[s]:n[e[s][0]]=e[s][1];return n},St[b]=function(e,t,n){if(e==i)return-1;var s=0,o=e[r];if(n){if(typeof n!="number")return s=St[V](e,t),e[s]===t?s:-1;s=n<0?Math.max(0,o+n):n}if(gt&&e[b]===gt)return e[b](t,n);for(;s<o;s++)if(e[s]===t)return s;return-1},St[d]=function(e,t,n){if(e==i)return-1;var s=n!=i;if(yt&&e[d]===yt)return s?e[d](t,n):e[d](t);var o=s?n:e[r];while(o--)if(e[o]===t)return o;return-1},St.range=function(e,t,n){arguments[r]<=1&&(t=e||0,e=0),n=arguments[2]||1;var i=Math.max(Math.ceil((t-e)/n),0),s=0,o=new Array(i);while(s<i)o[s++]=e,e+=n;return o};var At=function(){};St[R]=function(e,t){var n,r;if(Et&&e[R]===Et)return Et[o](e,ot[s](arguments,1));if(!St[u](e))throw new TypeError;return n=ot[s](arguments,2),r=function(){if(this instanceof r){At[a]=e[a];var u=new At;At[a]=i;var f=e[o](u,n[S](ot[s](arguments)));return Object(f)===f?f:u}return e[o](t,n[S](ot[s](arguments)))}},St.partial=function(e){var t=ot[s](arguments,1);return function(){var n=0,i=t[k]();for(var s=0,u=i[r];s<u;s++)i[s]===St&&(i[s]=arguments[n++]);while(n<arguments[r])i[y](arguments[n++]);return e[o](this,i)}},St.bindAll=function(e){var t=ot[s](arguments,1);if(t[r]===0)throw new Error("bindAll must be passed function names");return xt(t,function(t){e[t]=St[R](e[t],e)}),e},St.memoize=function(e,t){var n={};return t||(t=St[v]),function(){var r=t[o](this,arguments);return St[W](n,r)?n[r]:n[r]=e[o](this,arguments)}},St.delay=function(e,t){var n=ot[s](arguments,2);return setTimeout(function(){return e[o](i,n)},t)},St.defer=function(e){return St.delay[o](St,[e,1][S](ot[s](arguments,1)))},St.throttle=function(e,t,n){var r,s,u,a=i,l=0;n||(n={});var c=function(){l=n.leading===f?0:St.now(),a=i,u=e[o](r,s),r=s=i};return function(){var h=St.now();!l&&n.leading===f&&(l=h);var p=t-(h-l);return r=this,s=arguments,p<=0?(clearTimeout(a),a=i,l=h,u=e[o](r,s),r=s=i):!a&&n.trailing!==f&&(a=setTimeout(c,p)),u}},St.debounce=function(e,t,n){var r,s,u,a,f,l=function(){var c=St.now()-a;c<t?r=setTimeout(l,t-c):(r=i,n||(f=e[o](u,s),u=s=i))};return function(){u=this,s=arguments,a=St.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(f=e[o](u,s),u=s=i),f}},St.once=function(e){var t=f,n;return function(){return t?n:(t=c,n=e[o](this,arguments),e=i,n)}},St.wrap=function(e,t){return St.partial(t,e)},St.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e[r]-1;n>=0;n--)t=[e[n][o](this,t)];return t[0]}},St.after=function(e,t){return function(){if(--e<1)return t[o](this,arguments)}},St[N]=function(e){if(!St[F](e))return[];if(wt)return wt(e);var t=[];for(var n in e)St[W](e,n)&&t[y](n);return t},St[$]=function(e){var t=St[N](e),n=t[r],i=new Array(n);for(var s=0;s<n;s++)i[s]=e[t[s]];return i},St.pairs=function(e){var t=St[N](e),n=t[r],i=new Array(n);for(var s=0;s<n;s++)i[s]=[t[s],e[t[s]]];return i},St.invert=function(e){var t={},n=St[N](e);for(var i=0,s=n[r];i<s;i++)t[e[n[i]]]=n[i];return t},St.functions=St.methods=function(e){var t=[];for(var n in e)St[u](e[n])&&t[y](n);return t.sort()},St[K]=function(e){return xt(ot[s](arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},St.pick=function(e){var t={},n=ut[o](nt,ot[s](arguments,1));return xt(n,function(n){n in e&&(t[n]=e[n])}),t},St.omit=function(e){var t={},n=ut[o](nt,ot[s](arguments,1));for(var r in e)St[w](n,r)||(t[r]=e[r]);return t},St.defaults=function(e){return xt(ot[s](arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},St.clone=function(e){return St[F](e)?St[l](e)?e[k]():St[K]({},e):e},St.tap=function(e,t){return t(e),e};var Ot=function(e,t,n,o){if(e===t)return e!==0||1/e==1/t;if(e==i||t==i)return e===t;e instanceof St&&(e=e[p]),t instanceof St&&(t=t[p]);var a=at[s](e);if(a!=at[s](t))return f;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case T:return+e==+t;case"[object RegExp]":return e[E]==t[E]&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!=H||typeof t!=H)return f;var l=n[r];while(l--)if(n[l]==e)return o[l]==t;var h=e[m],d=t[m];if(h!==d&&!(St[u](h)&&h instanceof h&&St[u](d)&&d instanceof d)&&m in e&&m in t)return f;n[y](e),o[y](t);var v=0,g=c;if(a==L){v=e[r],g=v==t[r];if(g)while(v--)if(!(g=Ot(e[v],t[v],n,o)))break}else{for(var b in e)if(St[W](e,b)){v++;if(!(g=St[W](t,b)&&Ot(e[b],t[b],n,o)))break}if(g){for(b in t)if(St[W](t,b)&&!(v--))break;g=!v}}return n.pop(),o.pop(),g};St.isEqual=function(e,t){return Ot(e,t,[],[])},St.isEmpty=function(e){if(e==i)return c;if(St[l](e)||St.isString(e))return e[r]===0;for(var t in e)if(St[W](e,t))return f;return c},St.isElement=function(e){return!!e&&e.nodeType===1},St[l]=bt||function(e){return at[s](e)==L},St[F]=function(e){return e===Object(e)},xt(["Arguments","Function","String","Number","Date","RegExp"],function(e){St["is"+e]=function(t){return at[s](t)=="[object "+e+"]"}}),St[C](arguments)||(St[C]=function(e){return!!e&&!!St[W](e,"callee")}),typeof /./!==x&&(St[u]=function(e){return typeof e===x}),St.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},St.isNaN=function(e){return St.isNumber(e)&&e!=+e},St.isBoolean=function(e){return e===c||e===f||at[s](e)==T},St.isNull=function(e){return e===i},St.isUndefined=function(e){return e===void 0},St[W]=function(e,t){return ft[s](e,t)},St.noConflict=function(){return e._=et,this},St[v]=function(e){return e},St.constant=function(e){return function(){return e}},St[I]=function(e){return function(t){return t[e]}},St[U]=function(e){return function(t){if(t===e)return c;for(var n in e)if(e[n]!==t[n])return f;return c}},St.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t[s](n,i);return r},St[q]=function(e,t){return t==i&&(t=e,e=0),e+Math.floor(Math[q]()*(t-e+1))},St.now=Date.now||function(){return(new Date).getTime()};var Mt={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};Mt[P]=St.invert(Mt[M]);var _t={escape:new RegExp("["+St[N](Mt[M])[z]("")+"]","g"),unescape:new RegExp("("+St[N](Mt[P])[z]("|")+")","g")};St.each([M,P],function(e){St[e]=function(t){return t==i?"":(""+t).replace(_t[e],function(t){return Mt[e][t]})}}),St.result=function(e,t){if(e==i)return void 0;var n=e[t];return St[u](n)?n[s](e):n},St.mixin=function(e){xt(St.functions(e),function(t){var n=St[t]=e[t];St[a][t]=function(){var e=[this[p]];return st[o](e,arguments),jt[s](this,n[o](St,e))}})};var Dt=0;St.uniqueId=function(e){var t=++Dt+"";return e?e+t:t},St[B]={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Pt=/(.)^/,Ht={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},Bt=/\\|'|\r|\n|\t|\u2028|\u2029/g;St.template=function(e,t,n){var i;n=St.defaults({},n,St[B]);var o=new RegExp([(n[M]||Pt)[E],(n.interpolate||Pt)[E],(n.evaluate||Pt)[E]][z]("|")+"|$","g"),u=0,a="__p+='";e.replace(o,function(t,n,i,s,o){return a+=e[k](u,o).replace(Bt,function(e){return"\\"+Ht[e]}),n&&(a+=D+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+=D+i+"))==null?'':__t)+\n'"),s&&(a+="';\n"+s+"\n__p+='"),u=o+t[r],t}),a+="';\n",n[J]||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n[J]||"obj","_",a)}catch(f){throw f[E]=a,f}if(t)return i(t,St);var l=function(e){return i[s](this,e,St)};return l[E]="function("+(n[J]||"obj")+"){\n"+a+"}",l},St.chain=function(e){return St(e).chain()};var jt=function(e){return this._chain?St(e).chain():e};St.mixin(St),xt(["pop",y,"reverse","shift","sort","splice","unshift"],function(e){var t=nt[e];St[a][e]=function(){var n=this[p];return t[o](n,arguments),(e=="shift"||e=="splice")&&n[r]===0&&delete n[0],jt[s](this,n)}}),xt([S,z,k],function(e){var t=nt[e];St[a][e]=function(){return jt[s](this,t[o](this[p],arguments))}}),St[K](St[a],{chain:function(){return this._chain=c,this},value:function(){return this[p]}}),typeof define===x&&define.amd&&define("underscore",[],function(){return St})}))[s](this)},{}],3:[function(e,t,n){function g(){this[r]=this[r]||{},this[i]=this[i]||undefined}function y(e){return typeof e=="function"}function b(e){return typeof e=="number"}function w(e){return typeof e=="object"&&e!==null}function E(e){return e===void 0}var r="_events",i="_maxListeners",s="prototype",o="defaultMaxListeners",u="error",a="length",f=!1,l=!0,c="addListener",h="listener must be a function",p="newListener",d="listener",v="removeListener",m="removeAllListeners";t.exports=g,g.EventEmitter=g,g[s][r]=undefined,g[s][i]=undefined,g[o]=10,g[s].setMaxListeners=function(e){if(!b(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this[i]=e,this},g[s].emit=function(e){var t,n,i,s,o,c;this[r]||(this[r]={});if(e===u)if(!this[r][u]||w(this[r][u])&&!this[r][u][a])throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');n=this[r][e];if(E(n))return f;if(y(n))switch(arguments[a]){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=arguments[a],s=new Array(i-1);for(o=1;o<i;o++)s[o-1]=arguments[o];n.apply(this,s)}else if(w(n)){i=arguments[a],s=new Array(i-1);for(o=1;o<i;o++)s[o-1]=arguments[o];c=n.slice(),i=c[a];for(o=0;o<i;o++)c[o].apply(this,s)}return l},g[s][c]=function(e,t){var n;if(!y(t))throw TypeError(h);this[r]||(this[r]={}),this[r][p]&&this.emit(p,e,y(t[d])?t[d]:t),this[r][e]?w(this[r][e])?this[r][e].push(t):this[r][e]=[this[r][e],t]:this[r][e]=t;if(w(this[r][e])&&!this[r][e].warned){var n;E(this[i])?n=g[o]:n=this[i],n&&n>0&&this[r][e][a]>n&&(this[r][e].warned=l,console[u]("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this[r][e][a]),console.trace())}return this},g[s].on=g[s][c],g[s].once=function(e,t){function r(){this[v](e,r),n||(n=l,t.apply(this,arguments))}if(!y(t))throw TypeError(h);var n=f;return r[d]=t,this.on(e,r),this},g[s][v]=function(e,t){var n,i,s,o;if(!y(t))throw TypeError(h);if(!this[r]||!this[r][e])return this;n=this[r][e],s=n[a],i=-1;if(n===t||y(n[d])&&n[d]===t)delete this[r][e],this[r][v]&&this.emit(v,e,t);else if(w(n)){for(o=s;o-->0;)if(n[o]===t||n[o][d]&&n[o][d]===t){i=o;break}if(i<0)return this;n[a]===1?(n[a]=0,delete this[r][e]):n.splice(i,1),this[r][v]&&this.emit(v,e,t)}return this},g[s][m]=function(e){var t,n;if(!this[r])return this;if(!this[r][v])return arguments[a]===0?this[r]={}:this[r][e]&&delete this[r][e],this;if(arguments[a]===0){for(t in this[r]){if(t===v)continue;this[m](t)}return this[m](v),this[r]={},this}n=this[r][e];if(y(n))this[v](e,n);else while(n[a])this[v](e,n[n[a]-1]);return delete this[r][e],this},g[s].listeners=function(e){var t;return!this[r]||!this[r][e]?t=[]:y(this[r][e])?t=[this[r][e]]:t=this[r][e].slice(),t},g.listenerCount=function(e,t){var n;return!e[r]||!e[r][t]?n=0:y(e[r][t])?n=1:n=e[r][t][a],n}},{}]},{},[1]);